<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>

<head>
    <title>YM Format</title>
    <style type="text/css">
        .wide {
            width: 100%;
        }
        .highlight_tbl {
            border: 1px solid;
            width: 100%;
            background-color: #ffff00;
            padding: 5px;
        }
        .tbl {
            border: 1px solid;
            width: 100%;
            padding: 5px;
        }
    </style>
</head>

<body>
      <table class="highlight_tbl">
            <tr>
                <td>Disclaimer: This is an archive document which has been preserved incase the original source is lost. It has been tidied by removing ASCII art which cannot be rendered in modern web browsers. Some typographic errors have been corrected. This document is for informational purposes only and is copyright the original author. Any errors, questions, ommissions or corrections should be directed to the original author.</td>
            </tr>
            <tr>
                <td>Original document link: <a href="http://www.vorc.org/document/YM3456.htm">here</a></td>
            </tr>
        </table>
      <br>

      <p><strong>YM Formats</strong></p>
      <p>
        <a href="#ym3f">YM3</a><br>
        <a href="#ym4f">YM4</a><br>
        <a href="#ym5f">YM5</a><br>
        <a href="#ym6f">YM6</a>
      </p>

     <h2 id="ym3f"></h2>
     <TABLE class=wide cellSpacing=0 cellPadding=0>
        <TBODY>
        <TR>
          <TD>
            <DIV 
            class=msgarea>
            <table class="tbl">
            	<tr>
            		<td>YM FORMAT</td>
            	</tr>
            	<tr>
            		<td>Written by Arnaud Carr&eacute;. (arnaud.carre@freesurf.fr)</td>
            	</tr>
            </table>
            <BR>NEW: 
            "YM3b" Format !!! See below...<BR><BR>WARNING: YM4! format is 
            changed !!!<BR><BR><BR>Many people asked me how to find new YM 
            files. Well, the problem is<BR>that it takes me too much time to 
            convert new modules. Then I decide to give<BR>you my YM-File format, 
            so you can generate YM-File by yourself !<BR><BR><BR><BR>As you 
            probably know, YM is only an YM2149 Chip emulator, not a 
            true<BR>MC68000 emulator. (For the moment !). YM-Files does not 
            contain any 68000<BR>code routine. A music-file is composed of 
            YM2149 registers generated by the<BR>original play-routine for each 
            50th seconds. As the YM2149 has 14 registers<BR>8 bits each, that 
            means 14 bytes for 1&#x2f;50 second, so 700 bytes for one<BR>second of 
            soundchip.<BR><BR>When I convert an ATARI music, I 
            play the music on the ATARI, and 
            I<BR>store YM2149 registers set each 1&#x2f;50sec (Vertical Blank time, 
            VBL) in a big<BR>file as follow:<BR><BR>VBL1:<BR>store 
            reg0,reg1,reg2,...,reg12,reg13 (14 regs)<BR>VBL2:<BR>store 
            reg0,reg1,reg2,...,reg12,reg13 (14 
            regs)<BR><BR><BR><hr><BR><BR><BR>VBLn:<BR>store 
            reg0,reg1,reg2,...,reg12,reg13 (14 regs)<BR><BR><BR>The problem is 
            that is takes a lot of disk-space. Just count: A 10<BR>minutes song 
            will take 420000 bytes on disk. But don't panic, the music 
            are<BR>compressed with LHARC method (using LHA program from Haruyasu 
            Yoshizaki).<BR>To reach best compression ratio, I store registers in 
            a different order:<BR><BR><BR>VBL1 reg0, VBL2 reg0, VBL3 reg0 .... 
            VBLn reg0<BR><BR>VBL1 reg1, VBL2 reg1, VBL3 reg1 .... VBLn 
            reg1<BR><BR><BR><hr><BR><BR><BR>VBL1 reg14,VBL2 reg14,VBL3 
            reg14.... VBLn reg14<BR><BR><BR><BR>So, here is the old YM3 file 
            format:<BR><BR><BR>Offset Size Name Value Comments<BR>0 4 ID 'YM3!' 
            File type Identificator.<BR><BR>then YM2149 registers starts a 
            offset 4.<BR><BR>The number of used VBL for music can be computed as 
            follow:<BR><BR>nvbl = 
            (ymfile_size-4)&#x2f;14;<BR><BR><BR><hr><BR>WARNING:<BR>The 
            LHA compression must be called AFTER the file is generated. 
            ALWAYS<BR>USE THE HEADER TYPE 0 when compressing (-h0).<BR>Ex: You 
            just create your binary file, starting with 'YM3!' ID, then<BR>all 
            YM registers. The music is 2 minutes long, that means your<BR>binary 
            is 2*60*700 + 4 = 84004 bytes long. you must compress it 
            before<BR>using the file with YM.EXE: (ex: your binary is 
            TEST.BIN)<BR><BR>LHA a -h0 TEST.LHA TEST.BIN<BR><BR>Then a file 
            TEST.LHA is created, which is DIRECTLY a valid YM file.<BR>just 
            type:<BR><BR>ren test.lha test.ym<BR><BR>Then you can hear the file 
            with YM.EXE<BR><BR>(I use LHA.EXE 
            v2.13).<BR><hr><BR><BR><BR><hr><BR>WARNING:<BR>Some 
            old and specific music starts with header 'YM2!', don't use 
            this<BR>ID.<BR><hr><BR><BR><BR><BR><BR><BR><BR><b>

            <u>SPECIAL: 

            Register 13!</u></b><BR><BR>Creating a binary 
            with YM registers for each VBL is easy. However<BR>there is special 
            case concerning register 13. Reg13 is used for the 
            volume<BR>envelope wave-form on the YM2149. The problem is writing 
            to that register<BR>"restarts" the wave-form at beginning. That is, 
            you CAN'T access this regis-<BR>ter each VBL if the original 
            play-routine does not. So, if the original<BR>player does not write 
            to register 13 on VBL n, write 0xff value.<BR>(So when YM.EXE read 
            0xff as reg13, the internal emulator register is 
            not<BR>updated).<BR><BR><BR><b>

            <u>That's all for 'YM3!' file.</u></b> 

            <BR><BR>That's all for the 
            'YM3!' format. As you see, it is very simple (then<BR>not very 
            powerful) but you can convert many ATARI soundchip 
            tunes with that<BR>format. (Especially old game-music, which use very 
            simple play-routine, or<BR>AMSTRAD CPC music).<BR><BR>But if you 
            know the ATARI demos, you 
            probably know there is many<BR>tricks used by sound-player to 
            produce real-drums or distorted sound: sample<BR>for drums, 
            additional tone synthesis using TIMER etc... The 'YM3!' format 
            can<BR>not play such music so...<BR><BR><BR><BR><BR><b><u>NEW NEW NEW NEW 
            NEW NEW NEW NEW NEW NEW NEW NEW NEW NEW NEW NEW NEW NEW 
            NEW</u></b><BR><BR>These 
            days you can find many YM tunes on Internet World Wide Web. 
            Many<BR>of these are generated with automatic program. (See the ATARI program 
            written<BR>by Jochen Knaus). The problem is that for each music, the 
            generating program<BR>must know the music time. (And even the loop 
            position if it exists !). So I<BR>write a PC program (YMTOOL.EXE) 
            which:<BR>-Read an YM file.<BR>-Display infos about it.<BR>-Search 
            loop automaticly in the music.<BR>-Save a new YM file with fine 
            loop.<BR><BR>The new YM file supports the loop point to be at the 
            middle of a music (not<BR>only at the beginning, as the YM3 format). 
            So a new format is born: "YM3b".<BR>The only difference is "YM3b" 
            instead of "YM3!" and the music file contains<BR>one DWORD (32bits 
            integers) at the end of the file, which contains the frame<BR>number 
            at which the loop restart.<BR>Ex: If a music is 5600 frames and the 
            loop restarts at frame 432, just write<BR>"YM3b", then 5600*14 bytes 
            of YM registers, then 432.<BR><BR>Go to my web-page to habe link to 
            download YMTOOL.EXE or to find link to<BR>Jochen Knaus 
            homepage:<BR><BR><A 
            href="http://www.multimania.com/leonard">http://www.multimania.com/leonard</A><BR><BR><BR>
            </DIV>
          </TD>
        </TR>
        </TBODY>
      </TABLE>

     <h2 id="ym4f"></h2>
     <table class="tbl">
        <tr>
        <td>YM4 FORMAT</td>
        </tr>
     </table>
     <table><tr><td>
            <BR>The 
            'YM4!' format is not currently implemented in the YM emulator, 
            but<BR>I have written the most complete format to play all 
            "evoluated" music such as<BR>SCAVENGER or ETERNAL tunes. If you 
            convert a music which the player does not use<BR>any "hardware" trick 
            such digi-drum or synth-tune, use 'YM3!' format describe<BR>above: 
            it will be faster and easyer to create. (Almost all standart YM 
            file<BR>existing around the world (exept DIGI-Drums ones) can be 
            written in YM3<BR>format).<BR><BR>If you want to convert a SPECIAL 
            music which use many tricks to produce<BR>strange sound, you must be 
            familiar with ATARI-ST sound 
            programing and follow<BR>next 
            instructions...<BR><BR><BR><BR><BR>Additional sound effects used by 
            strange-player are only two types differents:<BR><BR><BR><BR><b><u>1) 
            Digi-Drums</u></b><BR><BR><BR>Generally digi-drums is a 
            bunch of sample in the orignal play-rout.<BR>You will have to 
            localize and extract them. In the YM file, you have to<BR>store the 
            sample with their respective size. (see next part)<BR>when playing, 
            a digi-drum is defined with one value: timer frequency<BR>to replay 
            sample.<BR><BR><BR><BR><b><u>2) Tone 
            synthesis</u></b><BR><BR><BR>To produce very funny 
            sound, some player use the ATARI-ST 
            timer<BR>controller to change YM2149 volume more than 1 time per 
            VBL. Generally<BR>the routine in the player is as 
            follow:<BR><BR>lab1: move.l #$08000f00,$ffff8800.w<BR>move.l 
            #lab2,$134.w<BR>rte<BR><BR>lab2: move.l 
            #$08000000,$ffff8800.w<BR>move.l #lab1,$134.w<BR>rte<BR><BR>So the 
            volume is set to 15 then to 0 then to 15 etc... many times<BR>in the 
            same VBL at a given frequency. In fact, the volume switch 
            always<BR>between 0 and vmax. So a tone-synthesis is define by two 
            values: vmax and<BR>timer frequency.<BR><BR><BR><BR><b><u>3) 'YM4!' File 
            format:</u></b><BR><BR><BR>Here is the description 
            of the binary YM4 file. After the file is<BR>created, you can 
            compress it with LHA -h0 as above.<BR><BR><BR>Legend: BYTE 8bits 
            integer.<BR>WORD 16bits integer.<BR>DWORD 32bits 
            integer.<BR>string[n] Ascci string of n bytes long.<BR>NT-String 
            NULL-Terminated string.<BR><BR><BR>WARNING: All DWORD or WORD are 
            stored in MOTOROLA order in the file<BR>(INTEL 
            reverse)<BR><BR><BR><BR>Offset Size Type Comment<BR>0 4 DWORD ID of 
            YM4 format. ('YM4!')<BR>4 8 string[8] Check String 
            ('LeOnArD!')<BR>12 4 DWORD Nb of valid VBL of the file.<BR>16 4 
            DWORD Song attributes (see below)<BR>20 4 DWORD Nb of digi-drum 
            sample (can be 0)<BR>24 4 DWORD Frame loop start (generally 
            0)<BR><BR>For each digidrum sample:<BR>{<BR>.. 4 DWORD sample 
            size<BR>.. ? BYTES sample data (8bits per sample)<BR>}<BR><BR>.. ? 
            NT-String Name of the song.<BR>.. ? NT-String Name of the 
            author.<BR>.. ? NT-String Comments (Name of the YM converter 
            !)<BR>.. ? All YM2149 registers.<BR>.. 4 DWORD End-File check. 
            ('End!')<BR><BR><BR><BR><BR>So you've seen in the YM3 format that 
            all 14 registers of the YM2149<BR>are saved in file each VBL. Now, I 
            had to add 2 "virtual" registers to store<BR>extended information. 
            So there is 16 bytes in the file for each VBL. Now the<BR>VBL number 
            n will be noticed "Vn" and register m "Rm". First VBL is V0 
            and<BR>first register is R0. (R0 to R15)<BR><BR>The file data block 
            will be composed 
            of:<BR><BR>V0R0,V0R1,V0R2,....,V0R14,V0R15<BR>V1R0,V1R1,V1R2,....,V1R14,V1R15<BR>.....<BR>This 
            is the non-interleaved format block.<BR><BR><BR><BR>The data block 
            can be on a different 
            form:<BR><BR>V0R0,V1R0,V2R0,....,VnR0<BR>V0R1,V1R1,V2R1,....,VnR1<BR>....<BR>V0R15,V1R15,V2R15,....,VnR15<BR><BR>This 
            is the interleaved format block.<BR><BR>Those who are reading till 
            now have noticed that the YM3 format is<BR>an interleaved format. In 
            fact, the YM4 format can be interleaved or not.<BR>(Interleaved 
            format offers a very powerful compression ratio when 
            compressed<BR>with LHA).<BR><BR><BR><BR>Let's see the DWORD "song 
            attribute":<BR>(bn represent the bit n of the DWORD)<BR><BR>b0: Set 
            if Interleaved data block.<BR>b1: Set if the digi-drum samples are 
            signed data.<BR>b2: Set if the digidrum is already in ST 4 bits 
            format.<BR><BR>b3-b31: Not used yet, MUST BE 0.<BR><BR>Here come 
            valid bits for standard 14 first registers:<BR>(Same as YM3 
            Format.)<BR>(- means Unused, X means used)<BR><BR>NOTE: Now, 
            digi-drum will be noticed DD and Timer-Synth will be<BR>noticed 
            TS.<BR><BR><BR><BR>b7 b6 b5 b4 b3 b2 b1 b0<BR>r0: X X X X X X X X 
            Period voice A<BR>r1: - - - - X X X X " " "<BR>r2: X X X X X X X X 
            Period voice B<BR>r3: - - - - X X X X " " "<BR>r4: X X X X X X X X 
            Period voice C<BR>r5: - - - - X X X X " " "<BR>r6: - - - X X X X X 
            Noise period<BR>r7: X X X X X X X X Mixer control<BR>r8: - - - X X X 
            X X Volume voice A<BR>r9: - - - X X X X X Volume voice B<BR>r10: - - 
            - X X X X X Volume voice C<BR>r11: X X X X X X X X Waveform 
            period.<BR>r12: X X X X X X X X " "<BR>r13: - - - - X X X X Waveform 
            shape.<BR><BR>New "virtual" registers to store extra 
            data:<BR><BR>r14: - - - - - - - - Frequency for DD1 or TS1.<BR>r15: 
            - - - - - - - - Frequency for DD2 or TS2.<BR><BR><BR>As we've seen, 
            r13 has a particular status. If the value stored in<BR>the file is 
            0xff, YM emulator will not reset the waveform position.<BR><BR>The 
            YM4 format provides to start or run 1 TS and 1 DD during the<BR>same 
            VBL.<BR><BR><BR>You notice there is a least 28 free bits in the 14 
            standard<BR>registers. YM4 format use them to store "extra" 
            information. Let's see<BR>the "extra" bits:<BR><BR><BR><BR><BR>r1 
            free bits are used to code TS:<BR>r1 bits b5-b4 is a 2bits code which 
            means:<BR><BR>00: No TS.<BR>01: TS running on voice A<BR>10: TS 
            running on voice B<BR>11: TS running on voice C<BR><BR>r1 bit b6 is 
            only used if there is a TS running. If b6 is set, YM<BR>emulator 
            must restart the TIMER to first position. (You must be VERY 
            sound-<BR>chip specialist to hear the difference).<BR><BR>r3 free 
            bits are used to code a DD start.<BR>r3 b5-b4 is a 2bits code which 
            means:<BR><BR>00: No DD<BR>01: DD starts on voice A<BR>10: DD starts 
            on voice B<BR>11: DD starts on voice C<BR><BR><BR>WARNING:If a DD 
            starts on voice V , the volume register corresponding to V<BR>(Ex r8 
            for voice A, r9 for B and r10 for C) contains the sample number 
            in<BR>5 low bits. (That mean you have 32 digiDrum max in a 
            song)<BR><BR><BR><BR>Concerning DD and TS, both effects need to be 
            played at a given<BR>frequency. On the ATARI-ST, play 
            routine use the MFP-TIMER chip. That is,<BR>any frequency can be 
            coded on 11bits: 8bits for timer count, and 3bits<BR>for timer 
            predivisor. The MFP runs at 2457600 Hz and has a preset 
            of<BR>predivisor:<BR><BR>000: Timer stop.<BR>001: Prediv by 
            4<BR>010: Prediv by 10<BR>011: Prediv by 16<BR>100: Prediv by 
            50<BR>101: Prediv by 64<BR>110: Prediv by 100<BR>111: Prediv by 
            200<BR><BR>The 8 bits timer count value is named TC and 3bits prediv 
            value<BR>is named TP.<BR><BR>Some ex to endserstand how it 
            works:<BR><BR>TP TC Frequency (Hz)<BR>1 28 (2457600/4)&#x2f;28 = 21942 
            Hz<BR>4 150 (2457600&#x2f;50)&#x2f;150 = 327 
            Hz<BR><BR><BR><BR><b><u>Encode:</u></b><BR>TP for TS is stored in the 3 
            free bits of r6 (b7-b5)<BR>TP for DD is stored in the 3 free bits of 
            r8 (b7-b5)<BR>TC for TS is stored in the 8 bits of r14<BR>TC for DD 
            is stored in the 8 bits of r15<BR><BR>4bits volume value (vmax) for 
            TS is stored in the 4 free bits of 
            r5<BR>(b7-b4)<BR><BR><BR><BR><BR>
            </td></tr>
        </table>

     <h2 id="ym5f"></h2>
     <table class="tbl">
        <tr>
            <td>YM5 FORMAT</td>
        </tr>
     </table>
     <table><tbody><tr><td>
            <BR><BR><BR><BR>Well, 
            it seems that BEFORE I acheive the YM4 format loading rout, 
            some<BR>of you (particulary Mage!) ask me to change a bit the format 
            to add extra<BR>information. So here is YM5 format: (the YM4 is 
            obsolete now)<BR><BR><BR>Offset Size Type Comment<BR>0 4 DWORD ID of 
            YM5 format. ('YM5!')<BR>4 8 string[8] Check String 
            ('LeOnArD!')<BR>12 4 DWORD Nb of valid VBL of the file.<BR>16 4 
            DWORD Song attributes (see below)<BR>20 2 WORD Nb of digi-drum 
            sample (can be 0)<BR>22 4 DWORD YM2149 External frequency in 
            Hz<BR>(ex:2000000 for ATARI-ST 
            version,<BR>1000000 for AMSTRAD CPC)<BR>26 2 WORD Player frequency 
            in Hz<BR>(Ex: 50Hz for almost player)<BR>28 4 DWORD Vbl number to 
            loop the song.<BR>(0 is default)<BR>32 2 WORD Size (in bytes) of 
            futur<BR>additinal data.<BR>(must be 0 for the moment)<BR><BR>For 
            each digidrum sample:<BR>{<BR>.. 4 DWORD sample size<BR>.. ? BYTES 
            sample data (8bits per sample)<BR>}<BR><BR>.. ? NT-String Name of 
            the song.<BR>.. ? NT-String Name of the author.<BR>.. ? NT-String 
            Comments (YM file converter ?!)<BR>.. ? All YM2149 registers.<BR>.. 
            4 DWORD End-File check. ('End!')<BR><BR><BR>Ok, YM4 Expert had 
            notice there is no major change.<BR><BR><BR><BR><BR><BR><b><u>4) 
            Pfff....</u></b><BR><BR>That's all for the YM4 format which 
            allow you to encode most<BR>of the demo-soundchip from the ATARI. If some 
            of you think the file format is<BR>a bit hard to assume I agree with 
            you. I only prefer a complex but shorter<BR>format than simple and 
            big one...<BR><BR>If you have any trouble, problem or questions 
            about YM3 or YM4 format,<BR>write or mail me:<BR><BR>Internet 
            E-Mail:<BR>arnaud.carre@freesurf.fr<BR><BR>WEB 
            Page:<BR><A 
            href="http://www.multimania.com/leonard">http://www.multimania.com/leonard</A><BR><BR><hr><BR><BR>Have 
            a nice day 
            !<BR><BR><hr><BR><BR><BR><BR></TD></TR></TBODY></TABLE>

     <h2 id="ym6f"></h2>
     <table class="tbl">
        <tr>
            <td>YM6 FORMAT</td>
        </tr>
     </table>

     <DIV class=form-rowb12>&nbsp;</DIV>
     <TABLE class=wide cellSpacing=0 cellPadding=0>
        <TBODY>
        <TR>
          <TD>
            <DIV class=msgarea>
            <P align=center><BR>Written 
            by <A href="mailto:arnaud.carre@freesurf.fr">Arnaud Carr&eacute;,</A></P>
            <P align=center><B>YM6</B> File Format 
            spec.</P>
            <P align=left>&nbsp;</P>
            <OL>
              <LI><A 
              href="http://fr.groups.yahoo.com/group/cpc_fr/message/4023#news">News and rumours about StSound</A> 
              <LI><A 
              href="http://fr.groups.yahoo.com/group/cpc_fr/message/4023#ym6">YM6 format 
              spec.</A> </LI></OL>
            <P>&nbsp;</P>
            <P align=left><A name=news></A>News and 
            rumours about StSound</P>
            <P align=left>If you're an StSound fanatic, you 
            probably notice there is no regular update. In fact, I (leonard) 
            work on different projects these times.<BR>First of all, I work with 
            James Boulton on a brillant ST Emulator called "SainT". We plane to 
            release it for the STNICC 2000.<BR>Second, HTML and old StSound code 
            takes me a lot of time, and I'm very lazy for that kind of 
            work.<BR>And third (but not least !!!) I just crashed my 
            soundblaster card !!! Unfortunatly I try an Ensoniq Soundscape but 
            it does not work too. I think my ISA slot is dead... :-(</P>
            <P align=left>So, don't worry about StSound: it 
            is always alive, and I'm very happy (proud :-)) to see what's people 
            do with YM (see the 8bits players, that's great !).</P>
            <P align=left>The next StSound release will 
            surely consist of a new Winamp plugin and some update on the StSound 
            page. (You're too many registered users now, I have to update all 
            your names !!)</P>
            <P align=left>Other important thing! I changed my 
            email address so please write me at <A 
            href="mailto:arnaud.carre@freesurf.fr">
            arnaud.carre@freesurf.fr</A> 
            now ! (StSound web page don't change: <A 
            href="http://www.multimania.com/leonard">
            www.multimania.com/leonard</A>)</P>
            <P align=left><A name=ym6></A></P>
            <DL>
              <DT>YM6 format 
              spec. </DT></DL>
            <P>First of all, if you really want to make an YM 
            file reader, you MUST read the first <A 
            href="http://fr.groups.yahoo.com/group/cpc_fr/message/ymformat.txt">YmFormat.txt</A>, convering 
            all stuff you have to know before read YM6 format. You 
            must be YM5 familiar because I'll use some words / expressions used 
            in <A 
            href="http://fr.groups.yahoo.com/group/cpc_fr/message/ymformat.txt">YmFormat.txt</A>.</P>
            <P>Ok, let's assume you're an YM5 specialist 
            now.</P>
            <P>Let's call data registers r0, r1, etc... YM6 is a 16 
            bytes per frame format, as YM5. The big change is that YM6 can play 1 
            or 2 special effects in a frame. (To play tunes with two sid voices 
            for exemple).</P>
            <P>R1, bit 4-5: Special effect 1 voice (00: No 
            special effect 1, 01: Effect 1 on voice A, 02: Voice B, 03: Voice 
            C)<BR>R1, bit 6-7: Special effect type (00: SID voice, 01:Digidrum, 
            10:Sinus SID (TAO), 11: Sync Buzzer (TAO)</P>
            <P>For each effect, timer predivisor is stored in 
            R6, bits 5-7, and timer count is stored in R14, bits 0-7. All that 
            stuff is available for the second special effect, you just have to 
            replace R1,R6,R14 by R3, R8 and R15).</P>
            <P>Let's now see these new special 
            effects:</P>
            <P><strong>SID Sound</strong></P>
            <P>As YM5, SID is composed of a single value: 
            VMAX. VMAX is contained in bits 0-3 of the volume registers of the 
            voice effect. (Remember, voice effect is stored in R1 
            b4-5)</P>
            <P><strong>Digidrum</strong></P>
            <P>As YM5, Digidrum is composed of a sample 
            number, which is stored in bits 0-4 (5 bits lenght) of the volume 
            voice register (R8,R9 or R10, it depends).</P>
            <P><strong>Sinus-SID</strong></P>
            <P>Sinus SID is a TAO specific trick to produce 
            sinus waves. "Sinus SID" is not a great name for the effect, which is 
            just a looped sample. (But I use it in my first source code and I 
            don't change it ! :-)). The sample is composed of 8 bytes of volume 
            value. So you have to loop in these 8 bytes. I personally use that 
            table:</P>
            <P>static void 
            sinVolBuild(void)<BR>{<BR>for (int 
            vol=0;vol&lt;16;vol++)<BR>{<BR>for (int 
            pos=0;pos&lt;8;pos++)<BR>{<BR>double a = 
            (((double)pos)*2.0*PI)/8.0;<BR>int amp = 
            (int)(32767.0*sin(a)*SIDSINPOWER);<BR>amp = 
            (amp*vol)/16;<BR>sinVolTab[vol*8+pos] = 
            amp;<BR>}<BR>}<BR>}<BR></P>
            <P><strong>Sync Buzzer</strong></P>
            <P>Again a TAO effect, which is, to my opinion, 
            one of the greatest effect in ATARI music 
            world (just after the SID of course). In fact, it's very simple ! 
            It's a SID technique on the volume shape. As you're an YM specialist 
            now, you probably know that writing in YM2149 registers 13 set a new 
            volume shape, but RESTART the shape ! So, by writing in R13 in a 
            timer rout, you can modulate the shape frequency, producing some 
            nice sound. (Try the new TAO tunes).<BR>SyncBuzzer uses only one 
            data: the env shape used. It's stored in bits 0-3 (4 bits lenght) of 
            the effect volume voice register (R8,R9 or R10).</P>
            <P>&nbsp;</P>
            <P>Ok I hope it will help all of you asking me 
            some YM6 
            support, and have a nice day !</P>
            <P>Arnaud Carr&eacute;, aka Leonard / OXYGENE</P>
            <P><A href="mailto:arnaud.carre@freesurf.fr">arnaud.carre@freesurf.fr</A></P>
            <P><A href="http://www.multimania.com/leonard">
            www.multimania.com/leonard</A></P><BR><BR></DIV></TD></TR></TBODY></TABLE>

</body>

</html>
